Candidate: CVE-2024-37303
PublicDate: 2024-12-03 17:15:00 UTC
References:
 https://www.cve.org/CVERecord?id=CVE-2024-37303
 https://github.com/element-hq/synapse/security/advisories/GHSA-gjgr-7834-rhxr
 https://github.com/matrix-org/matrix-spec-proposals/pull/3916
Description:
 Synapse is an open-source Matrix homeserver. Synapse before version 1.106
 allows, by design, unauthenticated remote participants to trigger a
 download and caching of remote media from a remote homeserver to the local
 media repository. Such content then also becomes available for download
 from the local homeserver in an unauthenticated way. The implication is
 that unauthenticated remote adversaries can use this functionality to plant
 problematic content into the media repository. Synapse 1.106 introduces a
 partial mitigation in the form of new endpoints which require
 authentication for media downloads. The unauthenticated endpoints will be
 frozen in a future release, closing the attack vector.
Ubuntu-Description:
Notes:
 john-breton> The linked PR is a specification change and does not include
 john-breton> code changes as of 7/4/2025. May be possible to extract the
 john-breton> fix from the 1.106.0-1 source, but unlikely.
Mitigation:
Bugs:
Priority: medium
Discovered-by:
Assigned-to: john-breton
CVSS:
 github: CVSS:3.1/AV:N/AC:L/PR:N/UI:N/S:U/C:N/I:L/A:N [5.3 MEDIUM]

Patches_matrix-synapse:
upstream_matrix-synapse: released (1.116.0-1)
esm-apps/bionic_matrix-synapse: deferred (7/4/2025)
focal_matrix-synapse: deferred (7/4/2025)
esm-apps/focal_matrix-synapse: deferred (7/4/2025)
jammy_matrix-synapse: deferred (7/4/2025)
esm-apps/jammy_matrix-synapse: deferred (7/4/2025)
noble_matrix-synapse: deferred (7/4/2025)
esm-apps/noble_matrix-synapse: deferred (7/4/2025)
oracular_matrix-synapse: deferred (7/4/2025)
