Candidate: CVE-2023-49298
PublicDate: 2023-11-24 19:15:00 UTC
References:
 https://news.ycombinator.com/item?id=38405731
 https://web.archive.org/web/20231124172959/https://www.ibm.com/support/pages/how-remove-missing%C2%A0newline%C2%A0or%C2%A0line%C2%A0too%C2%A0long-error-etchostsallow%C2%A0and%C2%A0etchostsdeny-files
 https://github.com/openzfs/zfs/releases/tag/zfs-2.2.2
 https://gist.github.com/rincebrain/e23b4a39aba3fadc04db18574d30dc73
 https://www.cve.org/CVERecord?id=CVE-2023-49298
Description:
 OpenZFS through 2.1.13 and 2.2.x through 2.2.1, in certain scenarios
 involving applications that try to rely on efficient copying of file data,
 can replace file contents with zero-valued bytes and thus potentially
 disable security mechanisms. NOTE: this issue is not always security
 related, but can be security related in realistic situations. A possible
 example is cp, from a recent GNU Core Utilities (coreutils) version, when
 attempting to preserve a rule set for denying unauthorized access. (One
 might use cp when configuring access control, such as with the
 /etc/hosts.deny file specified in the IBM Support reference.) NOTE: this
 issue occurs less often in version 2.2.1, and in versions before 2.1.4,
 because of the default configuration in those versions.
Ubuntu-Description:
Notes:
 mdeslaur> This was fixed by a SRU in bug 2044657. For jammy and mantic,
 mdeslaur> the packages were subsequently released in the -security
 mdeslaur> pocket, but for focal, it is still in -updates, but the issue
 mdeslaur> isn't seen in the focal version because of the default
 mdeslaur> configuration so marking as released.
 mdeslaur> No USN has been published for these updates.
Mitigation:
Bugs:
 http://bugs.debian.org/cgi-bin/bugreport.cgi?bug=1056752
 https://bugs.freebsd.org/bugzilla/show_bug.cgi?id=275308
 https://github.com/openzfs/zfs/issues/15526
 https://bugs.launchpad.net/ubuntu/+source/zfs-linux/+bug/2044657
Priority: medium
Discovered-by:
Assigned-to:
CVSS:
 cisa-adp: CVSS:3.1/AV:N/AC:L/PR:N/UI:N/S:U/C:N/I:H/A:N [7.5 HIGH]
 nvd: CVSS:3.1/AV:N/AC:L/PR:N/UI:N/S:U/C:N/I:H/A:N [7.5 HIGH]

Patches_zfs-linux:
 upstream: https://github.com/openzfs/zfs/pull/15571
 upstream: https://github.com/openzfs/zfs/commit/77b0c6f0403b2b7d145bf6c244b6acbc757ccdc9 (2.1.14)
 upstream: https://github.com/openzfs/zfs/commit/9b9b09f452a469458451c221debfbab944e7f081 (2.2.2)
upstream_zfs-linux: released (2.1.14,2.2.2)
trusty_zfs-linux: ignored (end of standard support)
xenial_zfs-linux: ignored (end of standard support)
esm-apps/xenial_zfs-linux: needed
esm-infra/xenial_zfs-linux: needed
bionic_zfs-linux: ignored (end of standard support)
esm-infra/bionic_zfs-linux: needed
focal_zfs-linux: released (0.8.3-1ubuntu12.17)
jammy_zfs-linux: released (2.1.5-1ubuntu6~22.04.4)
lunar_zfs-linux: ignored (end of life, was needed)
mantic_zfs-linux: released (2.2.0-0ubuntu1~23.10.3)
noble_zfs-linux: released (2.2.2-0ubuntu2)
oracular_zfs-linux: released (2.2.2-0ubuntu2)
plucky_zfs-linux: released (2.2.2-0ubuntu2)
devel_zfs-linux: released (2.2.2-0ubuntu2)
