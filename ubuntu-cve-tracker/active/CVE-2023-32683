Candidate: CVE-2023-32683
PublicDate: 2023-06-06 19:15:00 UTC
References:
 https://github.com/matrix-org/synapse/security/advisories/GHSA-98px-6486-j7qc
 https://github.com/matrix-org/synapse/pull/15601
 https://www.cve.org/CVERecord?id=CVE-2023-32683
Description:
 Synapse is a Matrix protocol homeserver written in Python with the Twisted
 framework. A discovered oEmbed or image URL can bypass the
 `url_preview_url_blacklist` setting potentially allowing server side
 request forgery or bypassing network policies. Impact is limited to IP
 addresses allowed by the `url_preview_ip_range_blacklist` setting (by
 default this only allows public IPs) and by the limited information
 returned to the client: 1. For discovered oEmbed URLs, any non-JSON
 response or a JSON response which includes non-oEmbed information is
 discarded. 2. For discovered image URLs, any non-image response is
 discarded. Systems which have URL preview disabled (via the
 `url_preview_enabled` setting) or have not configured a
 `url_preview_url_blacklist` are not affected. This issue has been addressed
 in version 1.85.0. Users are advised to upgrade. User unable to upgrade may
 also disable URL previews.
Ubuntu-Description:
Notes:
Mitigation:
Bugs:
Priority: medium
Discovered-by:
Assigned-to:
CVSS:
 nvd: CVSS:3.1/AV:N/AC:L/PR:L/UI:N/S:U/C:L/I:L/A:N [5.4 MEDIUM]

Patches_matrix-synapse:
upstream_matrix-synapse: needs-triage
trusty_matrix-synapse: ignored (end of standard support)
xenial_matrix-synapse: ignored (end of standard support)
bionic_matrix-synapse: ignored (end of standard support)
esm-apps/bionic_matrix-synapse: needs-triage
focal_matrix-synapse: needs-triage
esm-apps/focal_matrix-synapse: needs-triage
jammy_matrix-synapse: needs-triage
esm-apps/jammy_matrix-synapse: needs-triage
kinetic_matrix-synapse: ignored (end of life, was needs-triage)
lunar_matrix-synapse: ignored (end of life, was needs-triage)
mantic_matrix-synapse: ignored (end of life, was needs-triage)
noble_matrix-synapse: needs-triage
esm-apps/noble_matrix-synapse: needs-triage
oracular_matrix-synapse: needs-triage
devel_matrix-synapse: needs-triage
