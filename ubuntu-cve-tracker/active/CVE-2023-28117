Candidate: CVE-2023-28117
PublicDate: 2023-03-22 20:15:00 UTC
References:
 https://github.com/getsentry/sentry-python/pull/1842
 https://github.com/getsentry/sentry-python/releases/tag/1.14.0
 https://github.com/getsentry/sentry-python/security/advisories/GHSA-29pr-6jr8-q5jm
 https://www.cve.org/CVERecord?id=CVE-2023-28117
Description:
 Sentry SDK is the official Python SDK for Sentry, real-time crash reporting
 software. When using the Django integration of versions prior to 1.14.0 of
 the Sentry SDK in a specific configuration it is possible to leak sensitive
 cookies values, including the session cookie to Sentry. These sensitive
 cookies could then be used by someone with access to your Sentry issues to
 impersonate or escalate their privileges within your application. In order
 for these sensitive values to be leaked, the Sentry SDK configuration must
 have `sendDefaultPII` set to `True`; one must use a custom name for either
 `SESSION_COOKIE_NAME` or `CSRF_COOKIE_NAME` in one's Django settings; and
 one must not be configured in one's organization or project settings to use
 Sentry's data scrubbing features to account for the custom cookie names. As
 of version 1.14.0, the Django integration of the `sentry-sdk` will detect
 the custom cookie names based on one's Django settings and will remove the
 values from the payload before sending the data to Sentry. As a workaround,
 use the SDK's filtering mechanism to remove the cookies from the payload
 that is sent to Sentry. For error events, this can be done with the
 `before_send` callback method and for performance related events
 (transactions) one can use the `before_send_transaction` callback method.
 Those who want to handle filtering of these values on the server-side can
 also use Sentry's advanced data scrubbing feature to account for the custom
 cookie names. Look for the `$http.cookies`, `$http.headers`,
 `$request.cookies`, or `$request.headers` fields to target with a scrubbing
 rule.
Ubuntu-Description:
Notes:
Mitigation:
Bugs:
Priority: medium
Discovered-by:
Assigned-to:
CVSS:
 nvd: CVSS:3.1/AV:N/AC:L/PR:L/UI:N/S:U/C:H/I:N/A:N [6.5 MEDIUM]

Patches_sentry-python:
upstream_sentry-python: needs-triage
trusty_sentry-python: ignored (end of standard support)
xenial_sentry-python: ignored (end of standard support)
bionic_sentry-python: DNE
focal_sentry-python: needs-triage
jammy_sentry-python: needs-triage
kinetic_sentry-python: ignored (end of life, was needs-triage)
esm-apps/focal_sentry-python: needs-triage
esm-apps/jammy_sentry-python: needs-triage
lunar_sentry-python: ignored (end of life, was needs-triage)
mantic_sentry-python: ignored (end of life, was needs-triage)
noble_sentry-python: needs-triage
esm-apps/noble_sentry-python: needs-triage
oracular_sentry-python: needs-triage
plucky_sentry-python: needs-triage
devel_sentry-python: needs-triage
