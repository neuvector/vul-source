PublicDateAtUSN: 2024-01-31 22:15:00 UTC
Candidate: CVE-2024-23651
PublicDate: 2024-01-31 22:15:00 UTC
References:
 https://github.com/moby/buildkit/security/advisories/GHSA-m3r6-h7wv-7xxv
 https://github.com/moby/buildkit/pull/4604
 https://github.com/moby/buildkit/releases/tag/v0.12.5
 https://www.openwall.com/lists/oss-security/2019/05/28/1
 https://www.cve.org/CVERecord?id=CVE-2024-23651
 https://ubuntu.com/security/notices/USN-7474-1
Description:
 BuildKit is a toolkit for converting source code to build artifacts in an
 efficient, expressive and repeatable manner. Two malicious build steps
 running in parallel sharing the same cache mounts with subpaths could cause
 a race condition that can lead to files from the host system being
 accessible to the build container. The issue has been fixed in v0.12.5.
 Workarounds include, avoiding using BuildKit frontend from an untrusted
 source or building an untrusted Dockerfile containing cache mounts with
 --mount=type=cache,source=... options.
 
Ubuntu-Description:
Notes:
 alexmurray> Traditionally the docker.io source package contained both the
 alexmurray> library and docker application. However, in releases that
 alexmurray> contain the
 alexmurray> docker.io-app source package, the docker.io source package
 alexmurray> contains only
 alexmurray> the library whilst the docker application itself is contained
 alexmurray> in the
 alexmurray> docker.io-app package.
 sbeattie> docker packages contain an embedded copy of github:moby/buildkit
Mitigation:
Bugs:
Priority: medium
Discovered-by:
Assigned-to:
CVSS:
 github: CVSS:3.1/AV:N/AC:H/PR:N/UI:N/S:C/C:H/I:H/A:N [8.7 HIGH]
 nvd: CVSS:3.1/AV:N/AC:H/PR:N/UI:N/S:U/C:H/I:H/A:N [7.4 HIGH]


Patches_docker.io:
upstream_docker.io: needs-triage
trusty_docker.io: ignored (end of standard support)
xenial_docker.io: ignored (end of standard support)
esm-infra/xenial_docker.io: not-affected (code not present)
bionic_docker.io: ignored (end of standard support)
esm-apps/bionic_docker.io: released (20.10.21-0ubuntu1~18.04.3+esm3)
focal_docker.io: needed
esm-apps/focal_docker.io: released (20.10.21-0ubuntu1~20.04.6+esm2)
jammy_docker.io: needed
esm-apps/jammy_docker.io: released (20.10.21-0ubuntu1~22.04.7+esm2)
mantic_docker.io: ignored (end of life, was needed)
noble_docker.io: needed
esm-apps/noble_docker.io: released (20.10.25+dfsg1-2ubuntu1+esm2)
oracular_docker.io: needed
plucky_docker.io: needed
devel_docker.io: needed

Patches_docker.io-app:
upstream_docker.io-app: needs-triage
trusty_docker.io-app: ignored (end of standard support)
xenial_docker.io-app: DNE
bionic_docker.io-app: DNE
focal_docker.io-app: needed
esm-apps/focal_docker.io-app: needed
jammy_docker.io-app: released (27.5.1-0ubuntu3~22.04.2)
esm-apps/jammy_docker.io-app: not-affected (27.5.1-0ubuntu3~22.04.2)
mantic_docker.io-app: ignored (end of life, was needed)
noble_docker.io-app: released (27.5.1-0ubuntu3~24.04.2)
esm-apps/noble_docker.io-app: not-affected (27.5.1-0ubuntu3~24.04.2)
oracular_docker.io-app: needed
plucky_docker.io-app: needed
devel_docker.io-app: needed
