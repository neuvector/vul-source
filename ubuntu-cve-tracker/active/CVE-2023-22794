Candidate: CVE-2023-22794
PublicDate: 2023-02-09 20:15:00 UTC
References:
 https://discuss.rubyonrails.org/t/cve-2023-22794-sql-injection-vulnerability-via-activerecord-comments/82117
 https://github.com/rails/rails/commit/048e9fc05e18c91838a44e60175e475de8b2aad5 (6-1-stable)
 https://www.cve.org/CVERecord?id=CVE-2023-22794
Description:
 A vulnerability in ActiveRecord <6.0.6.1, v6.1.7.1 and v7.0.4.1 related to
 the sanitization of comments. If malicious user input is passed to either
 the `annotate` query method, the `optimizer_hints` query method, or through
 the QueryLogs interface which automatically adds annotations, it may be
 sent to the database withinsufficient sanitization and be able to inject
 SQL outside of the comment.
Ubuntu-Description:
Notes:
 seth-arnold> In Oneiric-Saucy, rails package is just for transition;
 seth-arnold> The rails package contains actual code from vivid onward
Mitigation:
Bugs:
Priority: medium
Discovered-by:
Assigned-to:
CVSS:
 nvd: CVSS:3.1/AV:N/AC:L/PR:L/UI:N/S:U/C:H/I:H/A:H [8.8 HIGH]

Patches_rails:
upstream_rails: needs-triage
trusty_rails: ignored (end of standard support)
xenial_rails: ignored (end of standard support)
bionic_rails: ignored (end of standard support, was needs-triage)
focal_rails: ignored (end of standard support, was needs-triage)
jammy_rails: needs-triage
kinetic_rails: ignored (end of life, was needs-triage)
esm-apps/xenial_rails: needs-triage
esm-apps/bionic_rails: needs-triage
esm-apps/focal_rails: needs-triage
esm-apps/jammy_rails: needs-triage
lunar_rails: ignored (end of life, was needs-triage)
mantic_rails: ignored (end of life, was needs-triage)
noble_rails: needs-triage
esm-apps/noble_rails: needs-triage
oracular_rails: needs-triage
plucky_rails: needs-triage
devel_rails: needs-triage

Patches_ruby-rails-3.2:
upstream_ruby-rails-3.2: needs-triage
trusty_ruby-rails-3.2: ignored (end of standard support)
xenial_ruby-rails-3.2: DNE
bionic_ruby-rails-3.2: DNE
focal_ruby-rails-3.2: DNE
esm-infra/focal_ruby-rails-3.2: DNE
jammy_ruby-rails-3.2: DNE
kinetic_ruby-rails-3.2: DNE

Patches_ruby-actionpack-3.2:
upstream_ruby-actionpack-3.2: needs-triage
trusty_ruby-actionpack-3.2: ignored (end of standard support)
xenial_ruby-actionpack-3.2: DNE
bionic_ruby-actionpack-3.2: DNE
focal_ruby-actionpack-3.2: DNE
esm-infra/focal_ruby-actionpack-3.2: DNE
jammy_ruby-actionpack-3.2: DNE
kinetic_ruby-actionpack-3.2: DNE

Patches_ruby-activesupport-3.2:
upstream_ruby-activesupport-3.2: needs-triage
trusty_ruby-activesupport-3.2: ignored (end of standard support)
xenial_ruby-activesupport-3.2: DNE
bionic_ruby-activesupport-3.2: DNE
focal_ruby-activesupport-3.2: DNE
esm-infra/focal_ruby-activesupport-3.2: DNE
jammy_ruby-activesupport-3.2: DNE
kinetic_ruby-activesupport-3.2: DNE

Patches_ruby-activerecord-3.2:
upstream_ruby-activerecord-3.2: needs-triage
trusty_ruby-activerecord-3.2: ignored (end of standard support)
xenial_ruby-activerecord-3.2: DNE
bionic_ruby-activerecord-3.2: DNE
focal_ruby-activerecord-3.2: DNE
esm-infra/focal_ruby-activerecord-3.2: DNE
jammy_ruby-activerecord-3.2: DNE
kinetic_ruby-activerecord-3.2: DNE

Patches_ruby-activemodel-3.2:
upstream_ruby-activemodel-3.2: needs-triage
trusty_ruby-activemodel-3.2: ignored (end of standard support)
xenial_ruby-activemodel-3.2: DNE
bionic_ruby-activemodel-3.2: DNE
focal_ruby-activemodel-3.2: DNE
esm-infra/focal_ruby-activemodel-3.2: DNE
jammy_ruby-activemodel-3.2: DNE
kinetic_ruby-activemodel-3.2: DNE

Patches_rails-4.0:
upstream_rails-4.0: needs-triage
trusty_rails-4.0: ignored (end of standard support)
xenial_rails-4.0: DNE
bionic_rails-4.0: DNE
focal_rails-4.0: DNE
esm-infra/focal_rails-4.0: DNE
jammy_rails-4.0: DNE
kinetic_rails-4.0: DNE
