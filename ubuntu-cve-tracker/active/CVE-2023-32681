PublicDateAtUSN: 2023-05-26 18:15:00 UTC
Candidate: CVE-2023-32681
PublicDate: 2023-05-26 18:15:00 UTC
References:
 https://github.com/psf/requests/security/advisories/GHSA-j8r2-6x86-q33q
 https://ubuntu.com/security/notices/USN-6155-1
 https://ubuntu.com/security/notices/USN-6155-2
 https://www.cve.org/CVERecord?id=CVE-2023-32681
 https://ubuntu.com/security/notices/USN-7568-1
Description:
 Requests is a HTTP library. Since Requests 2.3.0, Requests has been leaking
 Proxy-Authorization headers to destination servers when redirected to an
 HTTPS endpoint. This is a product of how we use `rebuild_proxies` to
 reattach the `Proxy-Authorization` header to requests. For HTTP connections
 sent through the tunnel, the proxy will identify the header in the request
 itself and remove it prior to forwarding to the destination server. However
 when sent over HTTPS, the `Proxy-Authorization` header must be sent in the
 CONNECT request as the proxy has no visibility into the tunneled request.
 This results in Requests forwarding proxy credentials to the destination
 server unintentionally, allowing a malicious actor to potentially
 exfiltrate sensitive information. This issue has been patched in version
 2.31.0.
Ubuntu-Description:
Notes:
 mdeslaur> On focal and earlier, the python-pip package bundles requests
 mdeslaur> binaries when built. After updating requests, a no-change
 mdeslaur> rebuild of python-pip is required.
 mdeslaur> On jammy and later, requests is bundled in the python-pip
 mdeslaur> package and needs to be patched.
Mitigation:
Bugs:
 http://bugs.debian.org/cgi-bin/bugreport.cgi?bug=1036693
 https://bugs.launchpad.net/ubuntu/+source/python-pip/+bug/2031880
Priority: medium
Discovered-by: Dennis Brinkrolf and Tobias Funke
Assigned-to: bruce-cable
CVSS:
 github: CVSS:3.1/AV:N/AC:H/PR:N/UI:R/S:C/C:H/I:N/A:N [6.1 MEDIUM]
 nvd: CVSS:3.1/AV:N/AC:H/PR:N/UI:R/S:C/C:H/I:N/A:N [6.1 MEDIUM]

Patches_requests:
 upstream: https://github.com/psf/requests/commit/74ea7cf7a6a27a4eeb2ae24e162bcc942a6706d5
upstream_requests: released (2.31.0)
trusty_requests: ignored (end of standard support)
trusty/esm_requests: ignored (end of ESM support, was needs-triage)
esm-infra-legacy/trusty_requests: released (2.2.1-1ubuntu0.4+esm1)
xenial_requests: ignored (end of standard support)
esm-infra/xenial_requests: released (2.9.1-3ubuntu0.1+esm1)
bionic_requests: ignored (end of standard support, was needs-triage)
esm-infra/bionic_requests: released (2.18.4-2ubuntu0.1+esm1)
focal_requests: released (2.22.0-2ubuntu1.1)
esm-infra/focal_requests: released (2.22.0-2ubuntu1.1)
jammy_requests: released (2.25.1+dfsg-2ubuntu0.1)
kinetic_requests: released (2.27.1+dfsg-1ubuntu2.1)
lunar_requests: released (2.28.1+dfsg-1ubuntu1.1)
mantic_requests: released (2.28.1+dfsg-1ubuntu2)
noble_requests: released (2.28.1+dfsg-1ubuntu2)
oracular_requests: released (2.28.1+dfsg-1ubuntu2)
plucky_requests: released (2.28.1+dfsg-1ubuntu2)
devel_requests: released (2.28.1+dfsg-1ubuntu2)

Patches_python-pip:
upstream_python-pip: needs-triage
trusty_python-pip: ignored (end of standard support)
trusty/esm_python-pip: ignored (end of ESM support, was needs-triage)
esm-infra-legacy/trusty_python-pip: needs-triage
xenial_python-pip: ignored (end of standard support)
esm-apps/xenial_python-pip: needs-triage
bionic_python-pip: ignored (end of standard support, was needs-triage)
esm-apps/bionic_python-pip: needs-triage
focal_python-pip: released (20.0.2-5ubuntu1.9)
esm-apps/focal_python-pip: released (20.0.2-5ubuntu1.9)
jammy_python-pip: needed
esm-apps/jammy_python-pip: needs-triage
kinetic_python-pip: ignored (end of life, was needs-triage)
lunar_python-pip: ignored (end of life, was needed)
mantic_python-pip: not-affected (23.2+dfsg-1)
noble_python-pip: not-affected (23.2+dfsg-1)
esm-apps/noble_python-pip: not-affected (23.2+dfsg-1)
oracular_python-pip: not-affected (23.2+dfsg-1)
plucky_python-pip: not-affected (23.2+dfsg-1)
devel_python-pip: not-affected (23.2+dfsg-1)
