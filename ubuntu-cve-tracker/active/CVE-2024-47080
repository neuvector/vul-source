Candidate: CVE-2024-47080
PublicDate: 2024-10-15 15:15:00 UTC
References:
 https://www.cve.org/CVERecord?id=CVE-2024-47080
Description:
 matrix-js-sdk is the Matrix Client-Server SDK for JavaScript and
 TypeScript. In matrix-js-sdk versions versions 9.11.0 through 34.7.0, the
 method `MatrixClient.sendSharedHistoryKeys` is vulnerable to interception
 by malicious homeservers.  The method was introduced by MSC3061) and is
 commonly used to share historical message keys with newly invited users,
 granting them access to past messages in the room. However, it
 unconditionally sends these "shared" keys to all of the invited user's
 devices, regardless of whether the user's cryptographic identity is
 verified or whether the user's devices are signed by that identity. This
 allows the attacker to potentially inject its own devices to receive
 sensitive historical keys without proper security checks. Note that this
 only affects clients running the SDK with the legacy crypto stack. Clients
 using the new Rust cryptography stack (i.e. those that call
 `MatrixClient.initRustCrypto()` instead of `MatrixClient.initCrypto()`) are
 unaffected by this vulnerability, because
 `MatrixClient.sendSharedHistoryKeys()` raises an exception in such
 environments. The vulnerability was fixed in matrix-js-sdk 34.8.0 by
 removing the vulnerable functionality. As a workaround, remove use of
 affected functionality from clients.
Ubuntu-Description:
Notes:
Mitigation:
Bugs:
Priority: medium
Discovered-by:
Assigned-to:
CVSS:

Patches_node-matrix-js-sdk:
upstream_node-matrix-js-sdk: needs-triage
focal_node-matrix-js-sdk: ignored (end of standard support, was needs-triage)
esm-apps/focal_node-matrix-js-sdk: needs-triage
jammy_node-matrix-js-sdk: needs-triage
esm-apps/jammy_node-matrix-js-sdk: needs-triage
noble_node-matrix-js-sdk: needs-triage
esm-apps/noble_node-matrix-js-sdk: needs-triage
oracular_node-matrix-js-sdk: needs-triage
plucky_node-matrix-js-sdk: DNE
devel_node-matrix-js-sdk: DNE
