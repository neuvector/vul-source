Candidate: CVE-2024-24557
PublicDate: 2024-02-01 17:15:00 UTC
References:
 https://github.com/moby/moby/security/advisories/GHSA-xw73-rw38-6vjc
 https://github.com/moby/moby/commit/3e230cfdcc989dc524882f6579f9e0dac77400ae
 https://www.cve.org/CVERecord?id=CVE-2024-24557
Description:
 Moby is an open-source project created by Docker to enable software
 containerization. The classic builder cache system is prone to cache
 poisoning if the image is built FROM scratch. Also, changes to some
 instructions (most important being HEALTHCHECK and ONBUILD) would not cause
 a cache miss. An attacker with the knowledge of the Dockerfile someone is
 using could poison their cache by making them pull a specially crafted
 image that would be considered as a valid cache candidate for some build
 steps. 23.0+ users are only affected if they explicitly opted out of
 Buildkit (DOCKER_BUILDKIT=0 environment variable) or are using the /build
 API endpoint. All users on versions older than 23.0 could be impacted.
 Image build API endpoint (/build) and ImageBuild function from
 github.com/docker/docker/client is also affected as it the uses classic
 builder by default. Patches are included in 24.0.9 and 25.0.2 releases.
Ubuntu-Description:
Notes:
 alexmurray> Traditionally the docker.io source package contained both the
 alexmurray> library and docker application. However, in releases that
 alexmurray> contain the
 alexmurray> docker.io-app source package, the docker.io source package
 alexmurray> contains only
 alexmurray> the library whilst the docker application itself is contained
 alexmurray> in the
 alexmurray> docker.io-app package.
Mitigation:
Bugs:
Priority: medium
Discovered-by:
Assigned-to:
CVSS:
 github: CVSS:3.1/AV:L/AC:H/PR:N/UI:R/S:C/C:L/I:H/A:L [6.9 MEDIUM]
 nvd: CVSS:3.1/AV:L/AC:L/PR:N/UI:R/S:U/C:H/I:H/A:H [7.8 HIGH]


Patches_docker.io:
upstream_docker.io: needs-triage
trusty_docker.io: ignored (end of standard support)
xenial_docker.io: ignored (end of standard support)
esm-infra/xenial_docker.io: not-affected (code not present)
bionic_docker.io: ignored (end of standard support)
esm-apps/bionic_docker.io: needed
focal_docker.io: needed
esm-apps/focal_docker.io: needed
jammy_docker.io: needed
esm-apps/jammy_docker.io: needed
mantic_docker.io: ignored (end of life, was needed)
noble_docker.io: needed
esm-apps/noble_docker.io: needed
oracular_docker.io: needed
plucky_docker.io: needed
devel_docker.io: needed

Patches_docker.io-app:
upstream_docker.io-app: needs-triage
trusty_docker.io-app: ignored (end of standard support)
xenial_docker.io-app: DNE
bionic_docker.io-app: DNE
focal_docker.io-app: needed
esm-apps/focal_docker.io-app: needed
jammy_docker.io-app: needed
esm-apps/jammy_docker.io-app: needed
mantic_docker.io-app: ignored (end of life, was needed)
noble_docker.io-app: needed
esm-apps/noble_docker.io-app: needed
oracular_docker.io-app: needed
plucky_docker.io-app: needed
devel_docker.io-app: needed
