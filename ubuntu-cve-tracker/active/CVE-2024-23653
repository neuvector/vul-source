Candidate: CVE-2024-23653
PublicDate: 2024-01-31 22:15:00 UTC
References:
 https://github.com/moby/buildkit/security/advisories/GHSA-wr6v-9f75-vh2g
 https://github.com/moby/buildkit/pull/4602
 https://github.com/moby/buildkit/releases/tag/v0.12.5
 https://www.cve.org/CVERecord?id=CVE-2024-23653
Description:
 BuildKit is a toolkit for converting source code to build artifacts in an
 efficient, expressive and repeatable manner. In addition to running
 containers as build steps, BuildKit also provides APIs for running
 interactive containers based on built images. It was possible to use these
 APIs to ask BuildKit to run a container with elevated privileges. Normally,
 running such containers is only allowed if special `security.insecure`
 entitlement is enabled both by buildkitd configuration and allowed by the
 user initializing the build request. The issue has been fixed in v0.12.5 .
 Avoid using BuildKit frontends from untrusted sources.
 
Ubuntu-Description:
Notes:
 alexmurray> Traditionally the docker.io source package contained both the
 alexmurray> library and docker application. However, in releases that
 alexmurray> contain the
 alexmurray> docker.io-app source package, the docker.io source package
 alexmurray> contains only
 alexmurray> the library whilst the docker application itself is contained
 alexmurray> in the
 alexmurray> docker.io-app package.
 sbeattie> docker packages contain an embedded copy of github:moby/buildkit
Mitigation:
Bugs:
Priority: medium
Discovered-by:
Assigned-to: hlibk
CVSS:
 nvd: CVSS:3.1/AV:N/AC:L/PR:N/UI:N/S:U/C:H/I:H/A:H [9.8 CRITICAL]


Patches_docker.io:
 upstream: https://github.com/moby/buildkit/pull/4602/commits/65c3c9c135cba5c9e28d646e85b3c77fa93bbf0c
 upstream: https://github.com/moby/buildkit/pull/4602/commits/0c5daa23277e9e1fa8b2d794903cd97df95496fb
upstream_docker.io: needs-triage
trusty_docker.io: ignored (end of standard support)
xenial_docker.io: ignored (end of standard support)
esm-infra/xenial_docker.io: not-affected (code not present
bionic_docker.io: ignored (end of standard support)
esm-apps/bionic_docker.io: needed
focal_docker.io: needed
esm-apps/focal_docker.io: needed
jammy_docker.io: needed
esm-apps/jammy_docker.io: needed
mantic_docker.io: ignored (end of life, was needed)
noble_docker.io: needed
esm-apps/noble_docker.io: needed
oracular_docker.io: needed
devel_docker.io: needed

Patches_docker.io-app:
upstream_docker.io-app: needs-triage
trusty_docker.io-app: ignored (end of standard support)
xenial_docker.io-app: DNE
bionic_docker.io-app: DNE
focal_docker.io-app: needed
esm-apps/focal_docker.io-app: needed
jammy_docker.io-app: needed
esm-apps/jammy_docker.io-app: needed
mantic_docker.io-app: ignored (end of life, was needed)
noble_docker.io-app: needed
esm-apps/noble_docker.io-app: needed
oracular_docker.io-app: needed
devel_docker.io-app: needed
