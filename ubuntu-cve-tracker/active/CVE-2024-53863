PublicDateAtUSN: 2024-12-03 17:15:00 UTC
Candidate: CVE-2024-53863
PublicDate: 2024-12-03 17:15:00 UTC
References:
 https://www.cve.org/CVERecord?id=CVE-2024-53863
 https://github.com/element-hq/synapse/security/advisories/GHSA-vp6v-whfm-rv3g
 https://github.com/element-hq/synapse/commit/b64a4e5fbbbf119b6c65aedf0d999b4237d55503
 https://ubuntu.com/security/notices/USN-7444-1
Description:
 Synapse is an open-source Matrix homeserver. In Synapse versions before
 1.120.1, enabling the dynamic_thumbnails option or processing a specially
 crafted request could trigger the decoding and thumbnail generation of
 uncommon image formats, potentially invoking external tools like
 Ghostscript for processing. This significantly expands the attack surface
 in a historically vulnerable area, presenting a risk that far outweighs the
 benefit, particularly since these formats are rarely used on the open web
 or within the Matrix ecosystem. Synapse 1.120.1 addresses the issue by
 restricting thumbnail generation to images in the following widely used
 formats: PNG, JPEG, GIF, and WebP. This vulnerability is fixed in 1.120.1.
Ubuntu-Description:
Notes:
 john-breton> Older verions of matrix-synapse lack the thumbnailer module
 john-breton> entirely and as such, are not affected.
 john-breton> Noble and oracular are FTBFS and will be ignored due to the
 john-breton> infeasibility of providing fixes for the releases.
Mitigation:
Bugs:
 http://bugs.debian.org/cgi-bin/bugreport.cgi?bug=1088995
Priority: medium
Discovered-by:
Assigned-to:
CVSS:
 github: CVSS:4.0/AV:N/AC:L/AT:P/PR:N/UI:N/VC:N/VI:H/VA:N/SC:N/SI:N/SA:N/E:X/CR:X/IR:X/AR:X/MAV:X/MAC:X/MAT:X/MPR:X/MUI:X/MVC:X/MVI:X/MVA:X/MSC:X/MSI:X/MSA:X/S:X/AU:X/R:X/V:X/RE:X/U:X [8.2 HIGH]

Patches_matrix-synapse:
upstream_matrix-synapse: released (1.120.1)
esm-apps/bionic_matrix-synapse: not-affected (code not present)
focal_matrix-synapse: not-affected (code not present)
esm-apps/focal_matrix-synapse: not-affected (code not present)
jammy_matrix-synapse: needed
esm-apps/jammy_matrix-synapse: released (1.53.0-1ubuntu0.1~esm2)
noble_matrix-synapse: ignored (fix infeasible)
esm-apps/noble_matrix-synapse: ignored (fix infeasible)
oracular_matrix-synapse: ignored (fix infeasible)
