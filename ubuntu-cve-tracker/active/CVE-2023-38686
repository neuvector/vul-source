Candidate: CVE-2023-38686
PublicDate: 2023-08-04 16:15:00 UTC
References:
 https://github.com/matrix-org/sydent/pull/574
 https://github.com/matrix-org/sydent/commit/1cd748307c6b168b66154e6c4db715d4b9551261 (v2.5.6)
 https://github.com/matrix-org/sydent/security/advisories/GHSA-p6hw-wm59-3g5g
 https://github.com/python/cpython/issues/91826
 https://github.com/matrix-org/sydent/commit/1cd748307c6b168b66154e6c4db715d4b9551261
 https://github.com/matrix-org/sydent/releases/tag/v2.5.6
 https://peps.python.org/pep-0476/
 https://docs.python.org/3/library/ssl.html?highlight=ssl#security-considerations
 https://www.cve.org/CVERecord?id=CVE-2023-38686
Description:
 Sydent is an identity server for the Matrix communications protocol. Prior
 to version 2.5.6, if configured to send emails using TLS, Sydent does not
 verify SMTP servers' certificates. This makes Sydent's emails vulnerable to
 interception via a man-in-the-middle (MITM) attack. Attackers with
 privileged access to the network can intercept room invitations and address
 confirmation emails. This is patched in Sydent 2.5.6. When patching, make
 sure that Sydent trusts the certificate of the server it is connecting to.
 This should happen automatically when using properly issued certificates.
 Those who use self-signed certificates should make sure to copy their
 Certification Authority certificate, or their self signed certificate if
 using only one, to the trust store of your operating system. As a
 workaround, one can ensure Sydent's emails fail to send by setting the
 configured SMTP server to a loopback or non-routable address under one's
 control which does not have a listening SMTP server.
Ubuntu-Description:
Notes:
Mitigation:
Bugs:
 http://bugs.debian.org/cgi-bin/bugreport.cgi?bug=1043162
Priority: medium
Discovered-by:
Assigned-to:
CVSS:
 nvd: CVSS:3.1/AV:A/AC:H/PR:N/UI:N/S:U/C:H/I:N/A:N [5.3 MEDIUM]

Patches_matrix-sydent:
upstream_matrix-sydent: needs-triage
trusty_matrix-sydent: ignored (end of standard support)
xenial_matrix-sydent: ignored (end of standard support)
bionic_matrix-sydent: ignored (end of standard support)
focal_matrix-sydent: DNE
jammy_matrix-sydent: needed
esm-apps/jammy_matrix-sydent: needed
lunar_matrix-sydent: ignored (end of life, was needed)
mantic_matrix-sydent: ignored (end of life, was needs-triage)
noble_matrix-sydent: needs-triage
esm-apps/noble_matrix-sydent: needs-triage
oracular_matrix-sydent: needs-triage
plucky_matrix-sydent: DNE
devel_matrix-sydent: DNE
