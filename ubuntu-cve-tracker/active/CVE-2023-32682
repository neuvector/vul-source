Candidate: CVE-2023-32682
PublicDate: 2023-06-06 19:15:00 UTC
References:
 https://github.com/matrix-org/synapse/security/advisories/GHSA-26c5-ppr8-f33p
 https://matrix-org.github.io/synapse/latest/usage/configuration/config_documentation.html#password_config
 https://github.com/matrix-org/synapse/pull/15624
 https://matrix-org.github.io/synapse/latest/admin_api/user_admin_api.html#create-or-modify-account
 https://matrix-org.github.io/synapse/latest/jwt.html
 https://github.com/matrix-org/synapse/pull/15634
 https://www.cve.org/CVERecord?id=CVE-2023-32682
Description:
 Synapse is a Matrix protocol homeserver written in Python with the Twisted
 framework. In affected versions it may be possible for a deactivated user
 to login when using uncommon configurations. This only applies if any of
 the following are true: 1. JSON Web Tokens are enabled for login via the
 `jwt_config.enabled` configuration setting. 2. The local password database
 is enabled via the `password_config.enabled` and
 `password_config.localdb_enabled` configuration settings *and* a user's
 password is updated via an admin API after a user is deactivated. Note that
 the local password database is enabled by default, but it is uncommon to
 set a user's password after they've been deactivated. Installations that
 are configured to only allow login via Single Sign-On (SSO) via CAS, SAML
 or OpenID Connect (OIDC); or via an external password provider (e.g. LDAP)
 are not affected. If not using JSON Web Tokens, ensure that deactivated
 users do not have a password set. This issue has been addressed in version
 1.85.0. Users are advised to upgrade.
Ubuntu-Description:
Notes:
Mitigation:
Bugs:
Priority: medium
Discovered-by:
Assigned-to:
CVSS:
 nvd: CVSS:3.1/AV:N/AC:L/PR:L/UI:N/S:U/C:L/I:L/A:N [5.4 MEDIUM]

Patches_matrix-synapse:
upstream_matrix-synapse: needs-triage
trusty_matrix-synapse: ignored (end of standard support)
xenial_matrix-synapse: ignored (end of standard support)
bionic_matrix-synapse: ignored (end of standard support)
esm-apps/bionic_matrix-synapse: needs-triage
focal_matrix-synapse: needs-triage
esm-apps/focal_matrix-synapse: needs-triage
jammy_matrix-synapse: needs-triage
esm-apps/jammy_matrix-synapse: needs-triage
kinetic_matrix-synapse: ignored (end of life, was needs-triage)
lunar_matrix-synapse: ignored (end of life, was needs-triage)
mantic_matrix-synapse: ignored (end of life, was needs-triage)
noble_matrix-synapse: needs-triage
esm-apps/noble_matrix-synapse: needs-triage
oracular_matrix-synapse: needs-triage
devel_matrix-synapse: needs-triage
