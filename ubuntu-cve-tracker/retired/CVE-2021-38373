Candidate: CVE-2021-38373
PublicDate: 2021-08-10 15:15:00 UTC
References:
 https://bugs.kde.org/show_bug.cgi?id=423423
 https://nostarttls.secvuln.info
 https://www.cve.org/CVERecord?id=CVE-2021-38373
 https://kde.org/info/security/advisory-20211118-1.txt
Description:
 In KDE KMail 19.12.3 (aka 5.13.3), the SMTP STARTTLS option is not honored
 (and cleartext messages are sent) unless "Server requires authentication"
 is checked.
Ubuntu-Description:
Notes:
 ej7367> The vulnerable code is in ksmtp.
 ej7367> The upstream patches for ksmtp break ABI, requiring a patch for
 ej7367> kmailtransport as well. 
Mitigation:
Bugs:
Priority: medium
Discovered-by: Damian Poddebniak, Fabian Ising, Hanno BÃ¶ck, Sebastian Schinzel
Assigned-to:
CVSS:
 nvd: CVSS:3.1/AV:N/AC:H/PR:L/UI:N/S:U/C:H/I:N/A:N [5.3 MEDIUM]


Patches_kmail:
upstream_kmail: not-affected (code not present)
trusty_kmail: DNE
trusty/esm_kmail: DNE
esm-infra-legacy/trusty_kmail: DNE
xenial_kmail: DNE
bionic_kmail: ignored (end of standard support, was needs-triage)
esm-apps/bionic_kmail: not-affected (code not present)
focal_kmail: ignored (end of standard support, was needs-triage)
esm-apps/focal_kmail: not-affected (code not present)
hirsute_kmail: ignored (end of life)
impish_kmail: ignored (end of life)
jammy_kmail: not-affected (code not present)
esm-apps/jammy_kmail: not-affected (code not present)
kinetic_kmail: ignored (end of life, was needs-triage)
lunar_kmail: ignored (end of life, was needs-triage)
mantic_kmail: ignored (end of life, was needs-triage)
noble_kmail: not-affected (code not present)
esm-apps/noble_kmail: not-affected (code not present)
oracular_kmail: ignored (end of life, was needs-triage)
plucky_kmail: not-affected (code not present)
devel_kmail: not-affected (code not present)

Patches_ksmtp:
 upstream: https://invent.kde.org/pim/ksmtp/-/commit/b33f06397ea2f02ebfa26b77862fcb7164b4ba0c
 upstream: https://invent.kde.org/pim/ksmtp/-/commit/38a4c09427f3fdc04f9893f8eda3f6807d9a3203
 upstream: https://invent.kde.org/pim/ksmtp/-/commit/60f73c69758fe40a027a8e7402127d085f18545a
 upstream: https://invent.kde.org/pim/ksmtp/-/commit/77a366023715745a0677a93b6e3cb69856f8f299
 upstream: https://invent.kde.org/pim/ksmtp/-/commit/5d96c216281b88e1ceb2f6e7fc8b68c593674251
upstream_ksmtp: released (21.11.80)
esm-apps/bionic_ksmtp: ignored (changes too intrusive)
esm-apps/focal_ksmtp: ignored (changes too intrusive)
jammy_ksmtp: not-affected (21.12.3-0ubuntu1)
esm-apps/jammy_ksmtp: not-affected (21.12.3-0ubuntu1)
noble_ksmtp: not-affected (23.08.5-0ubuntu3)
esm-apps/noble_ksmtp: not-affected (23.08.5-0ubuntu3)
plucky_ksmtp: not-affected (24.12.3-0ubuntu1)
devel_ksmtp: not-affected (25.07.80-0ubuntu1)

Patches_kmailtransport:
 upstream: https://invent.kde.org/pim/kmailtransport/-/commit/b49ee72009620f152aaab1f592704e56e3be01f5
upstream_kmailtransport: released (21.11.80)
esm-apps/xenial_kmailtransport: not-affected (code not present)
esm-apps/bionic_kmailtransport: ignored (changes too intrusive)
esm-apps/focal_kmailtransport: ignored (changes too intrusive)
jammy_kmailtransport: not-affected (21.12.3-0ubuntu1)
esm-apps/jammy_kmailtransport: not-affected (21.12.3-0ubuntu1)
noble_kmailtransport: not-affected (23.08.5-0ubuntu3)
esm-apps/noble_kmailtransport: not-affected (23.08.5-0ubuntu3)
plucky_kmailtransport: not-affected (24.12.3-0ubuntu1)
devel_kmailtransport: not-affected (25.07.80-0ubuntu1)
