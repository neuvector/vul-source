Candidate: CVE-2024-45056
PublicDate: 2024-08-29 17:15:00 UTC
References:
 https://www.cve.org/CVERecord?id=CVE-2024-45056
 https://github.com/matter-labs/era-compiler-solidity/security/advisories/GHSA-fpx7-8vc6-frjj
 https://github.com/llvm/llvm-project/commit/e48237df95b49a36b8ffceb78c8a58f4be1b4344
Description:
 zksolc is a Solidity compiler for ZKsync. All LLVM versions since 2015 fold
 `(xor (shl 1, x), -1)` to `(rotl ~1, x)` if run with optimizations enabled.
 Here `~1` is generated as an unsigned 64 bits number (`2^64-1`). This
 number is zero-extended to 256 bits on EraVM target while it should have
 been sign-extended. Thus instead of producing `roti 2^256 - 1, x` the
 compiler produces `rotl 2^64 - 1, x`. Analysis has shown that no contracts
 were affected by the date of publishing this advisory. This issue has been
 addressed in version 1.5.3. Users are advised to upgrade and redeploy all
 contracts. There are no known workarounds for this vulnerability.
Ubuntu-Description:
Notes:
 mdeslaur> This isn't an issue in llvm, it is an issue in zksolc which is
 mdeslaur> caused by a change in llvm. Marking as not-affected.
Mitigation:
Bugs:
Priority: medium
Discovered-by:
Assigned-to:
CVSS:
 nvd: CVSS:3.1/AV:N/AC:H/PR:N/UI:N/S:U/C:N/I:H/A:N [5.9 MEDIUM]
 github: CVSS:3.1/AV:N/AC:H/PR:N/UI:N/S:U/C:N/I:H/A:N [5.9 MEDIUM]


Patches_llvm-toolchain-3.5:
upstream_llvm-toolchain-3.5: not-affected
esm-apps/xenial_llvm-toolchain-3.5: not-affected
focal_llvm-toolchain-3.5: DNE
esm-infra/focal_llvm-toolchain-3.5: DNE
jammy_llvm-toolchain-3.5: DNE
noble_llvm-toolchain-3.5: DNE
devel_llvm-toolchain-3.5: DNE

Patches_llvm-toolchain-3.6:
upstream_llvm-toolchain-3.6: not-affected
esm-infra-legacy/trusty_llvm-toolchain-3.6: not-affected
trusty/esm_llvm-toolchain-3.6: not-affected
esm-infra/xenial_llvm-toolchain-3.6: not-affected
focal_llvm-toolchain-3.6: DNE
esm-infra/focal_llvm-toolchain-3.6: DNE
jammy_llvm-toolchain-3.6: DNE
noble_llvm-toolchain-3.6: DNE
devel_llvm-toolchain-3.6: DNE

Patches_llvm-toolchain-3.7:
upstream_llvm-toolchain-3.7: not-affected
esm-apps/xenial_llvm-toolchain-3.7: not-affected
esm-apps/bionic_llvm-toolchain-3.7: not-affected
focal_llvm-toolchain-3.7: DNE
esm-infra/focal_llvm-toolchain-3.7: DNE
jammy_llvm-toolchain-3.7: DNE
noble_llvm-toolchain-3.7: DNE
devel_llvm-toolchain-3.7: DNE

Patches_llvm-toolchain-3.8:
upstream_llvm-toolchain-3.8: not-affected
esm-infra-legacy/trusty_llvm-toolchain-3.8: not-affected
trusty/esm_llvm-toolchain-3.8: not-affected
esm-infra/xenial_llvm-toolchain-3.8: not-affected
focal_llvm-toolchain-3.8: DNE
esm-infra/focal_llvm-toolchain-3.8: DNE
jammy_llvm-toolchain-3.8: DNE
noble_llvm-toolchain-3.8: DNE
devel_llvm-toolchain-3.8: DNE

Patches_llvm-toolchain-3.9:
upstream_llvm-toolchain-3.9: not-affected
esm-infra-legacy/trusty_llvm-toolchain-3.9: not-affected
trusty/esm_llvm-toolchain-3.9: not-affected
esm-apps/xenial_llvm-toolchain-3.9: not-affected
esm-infra/bionic_llvm-toolchain-3.9: not-affected
focal_llvm-toolchain-3.9: DNE
esm-infra/focal_llvm-toolchain-3.9: DNE
jammy_llvm-toolchain-3.9: DNE
noble_llvm-toolchain-3.9: DNE
devel_llvm-toolchain-3.9: DNE

Patches_llvm-toolchain-4.0:
upstream_llvm-toolchain-4.0: not-affected
esm-infra/xenial_llvm-toolchain-4.0: not-affected
esm-apps/bionic_llvm-toolchain-4.0: not-affected
focal_llvm-toolchain-4.0: DNE
esm-infra/focal_llvm-toolchain-4.0: DNE
jammy_llvm-toolchain-4.0: DNE
noble_llvm-toolchain-4.0: DNE
devel_llvm-toolchain-4.0: DNE

Patches_llvm-toolchain-5.0:
upstream_llvm-toolchain-5.0: not-affected
esm-infra/xenial_llvm-toolchain-5.0: not-affected
esm-apps/bionic_llvm-toolchain-5.0: not-affected
focal_llvm-toolchain-5.0: DNE
esm-infra/focal_llvm-toolchain-5.0: DNE
jammy_llvm-toolchain-5.0: DNE
noble_llvm-toolchain-5.0: DNE
devel_llvm-toolchain-5.0: DNE

Patches_llvm-toolchain-6.0:
upstream_llvm-toolchain-6.0: not-affected
esm-infra/xenial_llvm-toolchain-6.0: not-affected
esm-infra/bionic_llvm-toolchain-6.0: not-affected
focal_llvm-toolchain-6.0: not-affected
esm-infra/focal_llvm-toolchain-6.0: DNE (focal was not-affected)
esm-apps/focal_llvm-toolchain-6.0: not-affected
jammy_llvm-toolchain-6.0: DNE
noble_llvm-toolchain-6.0: DNE
devel_llvm-toolchain-6.0: DNE

Patches_llvm-toolchain-7:
upstream_llvm-toolchain-7: not-affected
esm-infra/bionic_llvm-toolchain-7: not-affected
focal_llvm-toolchain-7: not-affected
esm-infra/focal_llvm-toolchain-7: DNE (focal was not-affected)
esm-apps/focal_llvm-toolchain-7: not-affected
jammy_llvm-toolchain-7: DNE
noble_llvm-toolchain-7: DNE
devel_llvm-toolchain-7: DNE

Patches_llvm-toolchain-8:
upstream_llvm-toolchain-8: not-affected
esm-apps/xenial_llvm-toolchain-8: not-affected
esm-infra/bionic_llvm-toolchain-8: not-affected
focal_llvm-toolchain-8: not-affected
esm-infra/focal_llvm-toolchain-8: DNE (focal was not-affected)
esm-apps/focal_llvm-toolchain-8: not-affected
jammy_llvm-toolchain-8: DNE
noble_llvm-toolchain-8: DNE
devel_llvm-toolchain-8: DNE

Patches_llvm-toolchain-9:
upstream_llvm-toolchain-9: not-affected
esm-infra/bionic_llvm-toolchain-9: not-affected
focal_llvm-toolchain-9: not-affected
esm-infra/focal_llvm-toolchain-9: not-affected
jammy_llvm-toolchain-9: DNE
noble_llvm-toolchain-9: DNE
devel_llvm-toolchain-9: DNE

Patches_llvm-toolchain-10:
upstream_llvm-toolchain-10: not-affected
esm-infra/bionic_llvm-toolchain-10: not-affected
focal_llvm-toolchain-10: not-affected
esm-infra/focal_llvm-toolchain-10: not-affected
jammy_llvm-toolchain-10: DNE
noble_llvm-toolchain-10: DNE
devel_llvm-toolchain-10: DNE

Patches_llvm-toolchain-11:
upstream_llvm-toolchain-11: not-affected
focal_llvm-toolchain-11: not-affected
esm-infra/focal_llvm-toolchain-11: not-affected
jammy_llvm-toolchain-11: not-affected
esm-apps/jammy_llvm-toolchain-11: not-affected
noble_llvm-toolchain-11: DNE
devel_llvm-toolchain-11: DNE

Patches_llvm-toolchain-12:
upstream_llvm-toolchain-12: not-affected
focal_llvm-toolchain-12: not-affected
esm-infra/focal_llvm-toolchain-12: not-affected
jammy_llvm-toolchain-12: not-affected
esm-apps/jammy_llvm-toolchain-12: not-affected
noble_llvm-toolchain-12: DNE
devel_llvm-toolchain-12: DNE

Patches_llvm-toolchain-13:
upstream_llvm-toolchain-13: not-affected
focal_llvm-toolchain-13: DNE
esm-infra/focal_llvm-toolchain-13: DNE
jammy_llvm-toolchain-13: not-affected
noble_llvm-toolchain-13: DNE
devel_llvm-toolchain-13: DNE

Patches_llvm-toolchain-14:
upstream_llvm-toolchain-14: not-affected
focal_llvm-toolchain-14: DNE
esm-infra/focal_llvm-toolchain-14: DNE
jammy_llvm-toolchain-14: not-affected
noble_llvm-toolchain-14: not-affected
esm-apps/noble_llvm-toolchain-14: not-affected
devel_llvm-toolchain-14: not-affected

Patches_llvm-toolchain-15:
upstream_llvm-toolchain-15: not-affected
focal_llvm-toolchain-15: DNE
esm-infra/focal_llvm-toolchain-15: DNE
jammy_llvm-toolchain-15: not-affected
noble_llvm-toolchain-15: not-affected
esm-apps/noble_llvm-toolchain-15: not-affected
devel_llvm-toolchain-15: not-affected

Patches_llvm-toolchain-16:
upstream_llvm-toolchain-16: not-affected
focal_llvm-toolchain-16: DNE
esm-infra/focal_llvm-toolchain-16: DNE
jammy_llvm-toolchain-16: DNE
noble_llvm-toolchain-16: not-affected
esm-apps/noble_llvm-toolchain-16: not-affected
devel_llvm-toolchain-16: not-affected

Patches_llvm-toolchain-17:
upstream_llvm-toolchain-17: not-affected
focal_llvm-toolchain-17: DNE
esm-infra/focal_llvm-toolchain-17: DNE
jammy_llvm-toolchain-17: DNE
noble_llvm-toolchain-17: not-affected
devel_llvm-toolchain-17: not-affected

Patches_llvm-toolchain-18:
upstream_llvm-toolchain-18: not-affected
focal_llvm-toolchain-18: not-affected
esm-infra/focal_llvm-toolchain-18: DNE (focal was not-affected)
jammy_llvm-toolchain-18: DNE
noble_llvm-toolchain-18: not-affected
devel_llvm-toolchain-18: not-affected

Patches_llvm-toolchain-19:
upstream_llvm-toolchain-19: not-affected
focal_llvm-toolchain-19: DNE
esm-infra/focal_llvm-toolchain-19: DNE
jammy_llvm-toolchain-19: DNE
noble_llvm-toolchain-19: not-affected
devel_llvm-toolchain-19: not-affected
