Candidate: CVE-2024-4030
PublicDate: 2024-05-07 21:15:00 UTC
References:
 https://www.cve.org/CVERecord?id=CVE-2024-4030
 https://mail.python.org/archives/list/security-announce@python.org/thread/PRGS5OR3N3PNPT4BMV2VAGN5GMUI5636/
 https://github.com/python/cpython/commit/81939dad77001556c527485d31a2d0f4a759033e
 https://github.com/python/cpython/commit/8ed546679524140d8282175411fd141fe7df070d
Description:
 On Windows a directory returned by tempfile.mkdtemp() would not always have
 permissions set to restrict reading and writing to the temporary directory
 by other users, instead usually inheriting the correct permissions from the
 default location. Alternate configurations or users without a profile
 directory may not have the intended permissions. If you’re not using
 Windows or haven’t changed the temporary directory location then you aren’t
 affected by this vulnerability. On other platforms the returned directory
 is consistently readable and writable only by the current user. This issue
 was caused by Python not supporting Unix permissions on Windows. The fix
 adds support for Unix “700” for the mkdir function on Windows which is used
 by mkdtemp() to ensure the newly created directory has the proper
 permissions.
Ubuntu-Description:
Notes:
 rodrigo-zaiden> only affects python in Windows
Mitigation:
Bugs:
 https://github.com/python/cpython/issues/118486
Priority: medium
Discovered-by:
Assigned-to:
CVSS:
 cisa-adp: CVSS:3.1/AV:L/AC:L/PR:L/UI:N/S:U/C:H/I:H/A:N [7.1 HIGH]

Patches_python2.7:
upstream_python2.7: needs-triage
trusty/esm_python2.7: not-affected (Windows Only)
esm-infra-legacy/trusty_python2.7: not-affected (Windows Only)
esm-infra/xenial_python2.7: not-affected (Windows Only)
esm-infra/bionic_python2.7: not-affected (Windows Only)
focal_python2.7: not-affected (Windows Only)
esm-infra/focal_python2.7: DNE (focal was not-affected [Windows Only])
esm-apps/focal_python2.7: not-affected (Windows Only)
jammy_python2.7: not-affected (Windows Only)
esm-apps/jammy_python2.7: not-affected (Windows Only)
mantic_python2.7: DNE
noble_python2.7: DNE
devel_python2.7: DNE

Patches_python3.4:
upstream_python3.4: needs-triage
trusty/esm_python3.4: not-affected (Windows Only)
esm-infra-legacy/trusty_python3.4: not-affected (Windows Only)
focal_python3.4: DNE
esm-infra/focal_python3.4: DNE
jammy_python3.4: DNE
mantic_python3.4: DNE
noble_python3.4: DNE
devel_python3.4: DNE

Patches_python3.5:
upstream_python3.5: needs-triage
trusty/esm_python3.5: not-affected (Windows Only)
esm-infra-legacy/trusty_python3.5: not-affected (Windows Only)
esm-infra/xenial_python3.5: not-affected (Windows Only)
focal_python3.5: DNE
esm-infra/focal_python3.5: DNE
jammy_python3.5: DNE
mantic_python3.5: DNE
noble_python3.5: DNE
devel_python3.5: DNE

Patches_python3.6:
upstream_python3.6: needs-triage
esm-infra/bionic_python3.6: not-affected (Windows Only)
focal_python3.6: DNE
esm-infra/focal_python3.6: DNE
jammy_python3.6: DNE
mantic_python3.6: DNE
noble_python3.6: DNE
devel_python3.6: DNE

Patches_python3.7:
upstream_python3.7: needs-triage
esm-apps/bionic_python3.7: not-affected (Windows Only)
focal_python3.7: DNE
esm-infra/focal_python3.7: DNE
jammy_python3.7: DNE
mantic_python3.7: DNE
noble_python3.7: DNE
devel_python3.7: DNE

Patches_python3.8:
upstream_python3.8: needs-triage
esm-apps/bionic_python3.8: not-affected (Windows Only)
focal_python3.8: not-affected (Windows Only)
esm-infra/focal_python3.8: not-affected (Windows Only)
jammy_python3.8: DNE
mantic_python3.8: DNE
noble_python3.8: DNE
devel_python3.8: DNE

Patches_python3.9:
upstream_python3.9: needs-triage
focal_python3.9: not-affected (Windows Only)
esm-infra/focal_python3.9: DNE (focal was not-affected [Windows Only])
esm-apps/focal_python3.9: not-affected (Windows Only)
jammy_python3.9: DNE
mantic_python3.9: DNE
noble_python3.9: DNE
devel_python3.9: DNE

Patches_python3.10:
upstream_python3.10: needs-triage
focal_python3.10: DNE
esm-infra/focal_python3.10: DNE
jammy_python3.10: not-affected (Windows Only)
mantic_python3.10: DNE
noble_python3.10: DNE
devel_python3.10: DNE

Patches_python3.11:
upstream_python3.11: needs-triage
focal_python3.11: DNE
esm-infra/focal_python3.11: DNE
jammy_python3.11: not-affected (Windows Only)
mantic_python3.11: not-affected (Windows Only)
noble_python3.11: DNE
devel_python3.11: DNE

Patches_python3.12:
upstream_python3.12: needs-triage
focal_python3.12: DNE
esm-infra/focal_python3.12: DNE
jammy_python3.12: DNE
mantic_python3.12: not-affected (Windows Only)
noble_python3.12: not-affected (Windows Only)
devel_python3.12: not-affected (Windows Only)
