PublicDateAtUSN: 2018-02-15 20:29:00 UTC
Candidate: CVE-2018-7169
PublicDate: 2018-02-15 20:29:00 UTC
References:
 https://github.com/shadow-maint/shadow/pull/97
 https://ubuntu.com/security/notices/USN-5254-1
 https://www.cve.org/CVERecord?id=CVE-2018-7169
Description:
 An issue was discovered in shadow 4.5. newgidmap (in shadow-utils) is
 setuid and allows an unprivileged user to be placed in a user namespace
 where setgroups(2) is permitted. This allows an attacker to remove
 themselves from a supplementary group, which may allow access to certain
 filesystem paths if the administrator has used "group blacklisting" (e.g.,
 chmod g-rwx) to restrict access to paths. This flaw effectively reverts a
 security feature in the kernel (in particular, the /proc/self/setgroups
 knob) to prevent this sort of privilege escalation.
Ubuntu-Description:
Notes:
Bugs:
 https://bugs.launchpad.net/ubuntu/+source/shadow/+bug/1729357
 http://bugs.debian.org/cgi-bin/bugreport.cgi?bug=890557
Priority: low
Discovered-by:
Assigned-to:
CVSS:
 nvd: CVSS:3.0/AV:N/AC:L/PR:N/UI:N/S:U/C:L/I:N/A:N [5.3 MEDIUM]


Patches_shadow:
 upstream: https://github.com/shadow-maint/shadow/commit/fb28c99b8a66ff2605c5cb96abc0a4d975f92de0
upstream_shadow: released (4.7-1)
precise/esm_shadow: ignored (end of life, was needs-triage)
trusty_shadow: ignored (end of standard support)
trusty/esm_shadow: released (1:4.1.5.1-1ubuntu9.5+esm1)
esm-infra-legacy/trusty_shadow: released (1:4.1.5.1-1ubuntu9.5+esm1)
xenial_shadow: ignored (end of standard support, was needed)
esm-infra/xenial_shadow: released (1:4.2-3.1ubuntu5.5+esm1)
artful_shadow: ignored (end of life)
bionic_shadow: released (1:4.5-1ubuntu2.2)
esm-infra/bionic_shadow: released (1:4.5-1ubuntu2.2)
cosmic_shadow: ignored (end of life)
disco_shadow: ignored (end of life)
eoan_shadow: ignored (end of life)
focal_shadow: not-affected (1:4.8.1-1ubuntu5.20.04)
esm-infra/focal_shadow: not-affected (1:4.8.1-1ubuntu5.20.04)
groovy_shadow: not-affected (1:4.8.1-1ubuntu5.20.04)
hirsute_shadow: not-affected (1:4.8.1-1ubuntu5.20.04)
impish_shadow: not-affected (1:4.8.1-1ubuntu5.20.04)
jammy_shadow: not-affected (1:4.8.1-1ubuntu5.20.04)
devel_shadow: not-affected (1:4.8.1-1ubuntu5.20.04)
