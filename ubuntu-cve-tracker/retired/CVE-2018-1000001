PublicDateAtUSN: 2018-01-11
Candidate: CVE-2018-1000001
PublicDate: 2018-01-31 14:29:00 UTC
References:
 http://www.openwall.com/lists/oss-security/2018/01/11/5
 https://sourceware.org/bugzilla/show_bug.cgi?id=18203
 https://www.halfdog.net/Security/2017/LibcRealpathBufferUnderflow/
 https://ubuntu.com/security/notices/USN-3534-1
 https://ubuntu.com/security/notices/USN-3536-1
 https://lists.samba.org/archive/rsync/2018-February/031478.html
 https://www.cve.org/CVERecord?id=CVE-2018-1000001
 https://ubuntu.com/security/notices/USN-4768-1
Description:
 In glibc 2.26 and earlier there is confusion in the usage of getcwd() by
 realpath() which can be used to write before the destination buffer leading
 to a buffer underflow and potential code execution.
Ubuntu-Description:
 libc does not account for all the possible return values from the
 kernel getcwd(2) syscall; arbitrary code execution may result from
 applications making further assumptions on the return value from the
 getcwd(3) libary function.
Notes:
 seth-arnold> I wonder where Go, busybox, and similar "do it ourselves" tools fit.
  I added dietlibc and musl to this page out of an abundance of caution. Someone
  should investigate.
 sbeattie> introduced a regression in glusterfs geo-rep due to its usage
   of rsync. See redhat bug for compensating patch for rsync.
 msalvatore> Unlike in glibc, this issue does not cause a buffer underflow in
 msalvatore> musl. Furthermore, realpath() does not call getcwd() in musl.
Bugs:
 https://sourceware.org/bugzilla/show_bug.cgi?id=22679
 https://bugs.launchpad.net/bugs/1746995
 https://bugzilla.redhat.com/show_bug.cgi?id=1542180
Priority: high
Discovered-by: halfdog
Assigned-to:
CVSS:
 nvd: CVSS:3.0/AV:L/AC:L/PR:L/UI:N/S:U/C:H/I:H/A:H [7.8 HIGH]

Patches_eglibc:
upstream_eglibc: needed
precise/esm_eglibc: not-affected (2.15-0ubuntu10.21)
trusty_eglibc: released (2.19-0ubuntu6.14)
trusty/esm_eglibc: not-affected (2.19-0ubuntu6.14)
esm-infra-legacy/trusty_eglibc: not-affected (2.19-0ubuntu6.14)
xenial_eglibc: DNE
zesty_eglibc: DNE
artful_eglibc: DNE
bionic_eglibc: DNE
cosmic_eglibc: DNE
disco_eglibc: DNE
eoan_eglibc: DNE
devel_eglibc: DNE

Patches_glibc:
 upstream: https://sourceware.org/git/gitweb.cgi?p=glibc.git;h=52a713fdd0a30e1bd79818e2e3c4ab44ddca1a94
upstream_glibc: needed
precise/esm_glibc: DNE
trusty_glibc: DNE
trusty/esm_glibc: DNE
esm-infra-legacy/trusty_glibc: DNE
xenial_glibc: released (2.23-0ubuntu10)
esm-infra/xenial_glibc: not-affected (2.23-0ubuntu10)
zesty_glibc: ignored (end of life)
artful_glibc: released (2.26-0ubuntu2.1)
bionic_glibc: not-affected (2.26-0ubuntu2.1)
esm-infra/bionic_glibc: not-affected (2.26-0ubuntu2.1)
cosmic_glibc: not-affected (2.26-0ubuntu2.1)
disco_glibc: not-affected (2.26-0ubuntu2.1)
eoan_glibc: not-affected (2.26-0ubuntu2.1)
devel_glibc: not-affected (2.26-0ubuntu2.1)

Patches_dietlibc:
upstream_dietlibc: not-affected (vulnerable code not present)
precise/esm_dietlibc: DNE
trusty_dietlibc: ignored (end of standard support)
trusty/esm_dietlibc: DNE (trusty was needs-triage)
esm-infra-legacy/trusty_dietlibc: DNE (trusty/esm was DNE [trusty was needs-triage])
xenial_dietlibc: not-affected (vulnerable code not present)
esm-apps/xenial_dietlibc: not-affected (vulnerable code not present)
zesty_dietlibc: ignored (end of life)
artful_dietlibc: ignored (end of life)
bionic_dietlibc: not-affected (vulnerable code not present)
esm-apps/bionic_dietlibc: not-affected (vulnerable code not present)
cosmic_dietlibc: ignored (end of life)
disco_dietlibc: not-affected (vulnerable code not present)
eoan_dietlibc: not-affected (vulnerable code not present)
devel_dietlibc: not-affected (vulnerable code not present)

Patches_musl:
 upstream: https://git.musl-libc.org/cgit/musl/commit/?id=23ddab8569ef8ae3488c1d67b6bccaa081c73245
upstream_musl: released (1.1.19)
precise/esm_musl: DNE
trusty_musl: ignored (end of standard support)
trusty/esm_musl: released (0.9.15-1ubuntu0.1~esm1)
esm-infra-legacy/trusty_musl: not-affected (0.9.15-1ubuntu0.1~esm1)
xenial_musl: ignored (end of standard support)
esm-apps/xenial_musl: released (1.1.9-1ubuntu0.1~esm2)
zesty_musl: ignored (end of life)
artful_musl: ignored (end of life)
bionic_musl: not-affected (1.1.19-1)
esm-apps/bionic_musl: not-affected (1.1.19-1)
cosmic_musl: not-affected (1.1.19-1)
disco_musl: not-affected (1.1.19-1)
eoan_musl: not-affected (1.1.19-1)
devel_musl: not-affected (1.1.19-1)
