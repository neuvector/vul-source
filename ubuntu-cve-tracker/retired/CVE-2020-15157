Candidate: CVE-2020-15157
CRD: 2020-10-15
PublicDate: 2020-10-16 17:15:00 UTC
References: 
 https://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2020-15157
 https://ubuntu.com/security/notices/USN-4589-1
 https://ubuntu.com/security/notices/USN-4589-2
Description:
 In containerd (an industry-standard container runtime) before version
 1.2.14 there is a credential leaking vulnerability. If a container image
 manifest in the OCI Image format or Docker Image V2 Schema 2 format
 includes a URL for the location of a specific image layer (otherwise known
 as a “foreign layer”), the default containerd resolver will follow that URL
 to attempt to download it. In v1.2.x but not 1.3.0 or later, the default
 containerd resolver will provide its authentication credentials if the
 server where the URL is located presents an HTTP 401 status code along with
 registry-specific HTTP headers. If an attacker publishes a public image
 with a manifest that directs one of the layers to be fetched from a web
 server they control and they trick a user or system into pulling the image,
 they can obtain the credentials used for pulling that image. In some cases,
 this may be the user's username and password for the registry. In other
 cases, this may be the credentials attached to the cloud virtual instance
 which can grant access to other cloud resources in the account. The default
 containerd resolver is used by the cri-containerd plugin (which can be used
 by Kubernetes), the ctr development tool, and other client programs that
 have explicitly linked against it. This vulnerability has been fixed in
 containerd 1.2.14. containerd 1.3 and later are not affected. If you are
 using containerd 1.3 or later, you are not affected. If you are using
 cri-containerd in the 1.2 series or prior, you should ensure you only pull
 images from trusted sources. Other container runtimes built on top of
 containerd but not using the default resolver (such as Docker) are not
 affected.
Ubuntu-Description: 
Notes: 
Mitigation: 
Bugs: 
Priority: medium
Discovered-by:
Assigned-to: 
CVSS:
 upstream: CVSS:3.1/AV:N/AC:H/PR:N/UI:R/S:C/C:H/I:N/A:N [6.1 MEDIUM]
 nvd: CVSS:3.1/AV:N/AC:H/PR:N/UI:R/S:C/C:H/I:N/A:N [6.1 MEDIUM]


Patches_containerd:
upstream_containerd: needs-triage
precise/esm_containerd: DNE
trusty_containerd: ignored (out of standard support)
trusty/esm_containerd: DNE
xenial_containerd: released (1.2.6-0ubuntu1~16.04.4)
esm-apps/xenial_containerd: released (1.2.6-0ubuntu1~16.04.4)
bionic_containerd: not-affected (v1.2 only)
esm-apps/bionic_containerd: not-affected (v1.2 only)
focal_containerd: not-affected (v1.2 only)
devel_containerd: not-affected (v1.2 only)

Patches_docker.io:
upstream_docker.io: needs-triage
precise/esm_docker.io: DNE
trusty_docker.io: ignored (out of standard support)
trusty/esm_docker.io: DNE
xenial_docker.io: released (18.09.7-0ubuntu1~16.04.6)
esm-apps/xenial_docker.io: released (18.09.7-0ubuntu1~16.04.6)
bionic_docker.io: released (19.03.6-0ubuntu1~18.04.2)
esm-apps/bionic_docker.io: released (19.03.6-0ubuntu1~18.04.2)
focal_docker.io: released (19.03.8-0ubuntu1.20.04.1)
esm-apps/focal_docker.io: released (19.03.8-0ubuntu1.20.04.1)
devel_docker.io: released (19.03.13-0ubuntu3)
